<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Cache-Control" content="only-if-cached"/>
<meta http-equiv="Cache-Control" content="max-age=120"/>

<title>Como implementar o padrão Decorator e em quais situações utilizá-lo</title>

<meta name="description" content="Introdução">

<link rel="stylesheet" href="/css/main.css">
<link rel="canonical" href="http://matheus-vieira.github.io/interview_questions/152/">
<link rel="alternate" type="application/rss+xml" title="Matheus Costa Vieira - Senior Software Engineer, Dad & Husband" href="http://matheus-vieira.github.io/feed.xml" />
<link rel="shortcut icon" href="/images/favicon.ico" type="image/png">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-174941014-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-174941014-1');
</script>


</head>
<body>
  <!-- Google Tag Manager (noscript) - Temporariamente desabilitado -->
  
  <!-- End Google Tag Manager (noscript) -->
  <header class="site-header">
  <div class="container">
    <label title="Toggle menu checkbox"></label>
      <input type="checkbox" id="toggleNavbar">
    </label>
    <div class="logo">
      <a href="/" alt="mvieira" title="mvieira">
        mvieira
      </a>
    </div>
    <label for="toggleNavbar" role="button" class="toggle-navbar-button" title="Toggle menu button">
      <i class="icon icon-menu"></i>
      <i class="icon icon-cross"></i>
    </label>
    <nav class="navbar">
      <ul>
        
          <li>
            <a href="/about" title="About">
              About
            </a>
          </li>
        
          <li>
            <a href="/blog" title="Blog">
              Blog
            </a>
          </li>
        
          <li>
            <a href="/contact" title="Contact">
              Contact
            </a>
          </li>
        
          <li>
            <a href="/courses" title="Courses">
              Courses
            </a>
          </li>
        
          <li>
            <a href="/resume" title="Resume">
              Resume
            </a>
          </li>
        
          <li>
            <a href="/study" title="Study">
              Study
            </a>
          </li>
        
        <li>
          <a href="/feed.xml" target="_blank" title="Site Feed">
            <i class="icon icon-rss"></i>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</header>


<main class="main-container">
  <div class="container">
    <article role="article" class="page card">
  <header class="post-header">
    <h1 class="post-title">Como implementar o padrão Decorator e em quais situações utilizá-lo</h1>
  </header>

  <div class="post-content">
    







<article role="article" class="post">
    <div class="card">
        <header class="post-header">
            <p>
            <h2><strong>Question</strong> &mdash; <span class="question-order">152</span></h2>
            </p>
            
            <p>
            <h3><strong>Tags</strong> &mdash; <span class="question-tags">design-patterns, decorator, gof, structural-patterns, oop, extensibility, composition, behavioral</span></h3>
            </p>
            
        </header>
    </div>
    <div class="post-content">
        <h2 id="introdução">Introdução</h2>

<p>O padrão Decorator é um padrão estrutural que permite adicionar novos comportamentos a objetos existentes de forma dinâmica, envolvendo-os em objetos especiais que contêm os comportamentos. É uma alternativa flexível à herança para estender funcionalidades.</p>

<h2 id="conceito-chave">Conceito-chave</h2>

<p>O Decorator opera no princípio de composição sobre herança, permitindo que comportamentos sejam anexados e removidos de objetos em tempo de execução. Ele mantém a mesma interface do objeto original, mas adiciona responsabilidades adicionais através de uma cadeia de decoradores.</p>

<h2 id="tópicos-relevantes">Tópicos Relevantes</h2>

<h3 id="estrutura-do-padrão">Estrutura do padrão</h3>

<pre><code class="language-csharp">// Component - interface ou classe abstrata
public interface IComponent
{
    string Operation();
}

// ConcreteComponent - implementação base
public class ConcreteComponent : IComponent
{
    public virtual string Operation()
    {
        return "ConcreteComponent";
    }
}

// Decorator base
public abstract class BaseDecorator : IComponent
{
    protected IComponent _component;

    public BaseDecorator(IComponent component)
    {
        _component = component;
    }

    public virtual string Operation()
    {
        return _component?.Operation() ?? string.Empty;
    }
}

// ConcreteDecorators - implementações específicas
public class ConcreteDecoratorA : BaseDecorator
{
    public ConcreteDecoratorA(IComponent component) : base(component) { }

    public override string Operation()
    {
        return $"ConcreteDecoratorA({base.Operation()})";
    }
}

public class ConcreteDecoratorB : BaseDecorator
{
    public ConcreteDecoratorB(IComponent component) : base(component) { }

    public override string Operation()
    {
        return $"ConcreteDecoratorB({base.Operation()})";
    }

    public string ExtraFeature()
    {
        return "ExtraFeature";
    }
}
</code></pre>

<h3 id="exemplo-prático---sistema-de-notificações">Exemplo prático - Sistema de notificações</h3>

<pre><code class="language-csharp">// Interface base para notificações
public interface INotifier
{
    void Send(string message);
}

// Implementação básica por email
public class EmailNotifier : INotifier
{
    private string email;

    public EmailNotifier(string email)
    {
        this.email = email;
    }

    public void Send(string message)
    {
        Console.WriteLine($"Enviando email para {email}: {message}");
    }
}

// Decorator base
public abstract class NotifierDecorator : INotifier
{
    protected INotifier notifier;

    public NotifierDecorator(INotifier notifier)
    {
        this.notifier = notifier;
    }

    public virtual void Send(string message)
    {
        notifier.Send(message);
    }
}

// Decorator para SMS
public class SMSDecorator : NotifierDecorator
{
    private string phoneNumber;

    public SMSDecorator(INotifier notifier, string phoneNumber) 
        : base(notifier)
    {
        this.phoneNumber = phoneNumber;
    }

    public override void Send(string message)
    {
        base.Send(message);
        Console.WriteLine($"Enviando SMS para {phoneNumber}: {message}");
    }
}

// Decorator para Slack
public class SlackDecorator : NotifierDecorator
{
    private string slackChannel;

    public SlackDecorator(INotifier notifier, string slackChannel) 
        : base(notifier)
    {
        this.slackChannel = slackChannel;
    }

    public override void Send(string message)
    {
        base.Send(message);
        Console.WriteLine($"Enviando para Slack #{slackChannel}: {message}");
    }
}

// Decorator para Discord
public class DiscordDecorator : NotifierDecorator
{
    private string discordChannel;

    public DiscordDecorator(INotifier notifier, string discordChannel) 
        : base(notifier)
    {
        this.discordChannel = discordChannel;
    }

    public override void Send(string message)
    {
        base.Send(message);
        Console.WriteLine($"Enviando para Discord #{discordChannel}: {message}");
    }
}
</code></pre>

<h3 id="uso-do-sistema-de-notificações">Uso do sistema de notificações</h3>

<pre><code class="language-csharp">public class NotificationService
{
    public void SendUrgentNotification(string message)
    {
        // Notificação básica por email
        INotifier notifier = new EmailNotifier("admin@company.com");

        // Adicionar SMS para notificações urgentes
        notifier = new SMSDecorator(notifier, "+5511999999999");

        // Adicionar Slack para equipe de desenvolvimento
        notifier = new SlackDecorator(notifier, "dev-alerts");

        // Adicionar Discord para comunidade
        notifier = new DiscordDecorator(notifier, "general");

        notifier.Send(message);
    }

    public void SendRegularNotification(string message)
    {
        // Apenas email para notificações regulares
        INotifier notifier = new EmailNotifier("team@company.com");
        notifier.Send(message);
    }
}
</code></pre>

<h2 id="exemplo-prático">Exemplo Prático</h2>

<p>Sistema de processamento de dados com diferentes tipos de transformações:</p>

<pre><code class="language-csharp">// Interface para processamento de dados
public interface IDataProcessor
{
    string Process(string data);
}

// Processador básico
public class BasicDataProcessor : IDataProcessor
{
    public string Process(string data)
    {
        return data;
    }
}

// Decorator base
public abstract class DataProcessorDecorator : IDataProcessor
{
    protected IDataProcessor processor;

    public DataProcessorDecorator(IDataProcessor processor)
    {
        this.processor = processor;
    }

    public virtual string Process(string data)
    {
        return processor.Process(data);
    }
}

// Decorator para criptografia
public class EncryptionDecorator : DataProcessorDecorator
{
    public EncryptionDecorator(IDataProcessor processor) : base(processor) { }

    public override string Process(string data)
    {
        string processedData = base.Process(data);
        return Encrypt(processedData);
    }

    private string Encrypt(string data)
    {
        // Simulação de criptografia
        return Convert.ToBase64String(Encoding.UTF8.GetBytes(data));
    }
}

// Decorator para compressão
public class CompressionDecorator : DataProcessorDecorator
{
    public CompressionDecorator(IDataProcessor processor) : base(processor) { }

    public override string Process(string data)
    {
        string processedData = base.Process(data);
        return Compress(processedData);
    }

    private string Compress(string data)
    {
        // Simulação de compressão
        return $"COMPRESSED[{data}]";
    }
}

// Decorator para logging
public class LoggingDecorator : DataProcessorDecorator
{
    private readonly ILogger logger;

    public LoggingDecorator(IDataProcessor processor, ILogger logger) 
        : base(processor)
    {
        this.logger = logger;
    }

    public override string Process(string data)
    {
        logger.Log($"Processando dados: {data.Substring(0, Math.Min(50, data.Length))}...");
        
        var startTime = DateTime.Now;
        string result = base.Process(data);
        var duration = DateTime.Now - startTime;
        
        logger.Log($"Processamento concluído em {duration.TotalMilliseconds}ms");
        return result;
    }
}

// Decorator para validação
public class ValidationDecorator : DataProcessorDecorator
{
    public ValidationDecorator(IDataProcessor processor) : base(processor) { }

    public override string Process(string data)
    {
        ValidateInput(data);
        string result = base.Process(data);
        ValidateOutput(result);
        return result;
    }

    private void ValidateInput(string data)
    {
        if (string.IsNullOrEmpty(data))
            throw new ArgumentException("Dados de entrada não podem ser nulos ou vazios");
    }

    private void ValidateOutput(string data)
    {
        if (string.IsNullOrEmpty(data))
            throw new InvalidOperationException("Processamento resultou em dados inválidos");
    }
}

// Uso combinado dos decorators
public class DataProcessingService
{
    private readonly ILogger logger;

    public DataProcessingService(ILogger logger)
    {
        this.logger = logger;
    }

    public string ProcessSensitiveData(string data)
    {
        IDataProcessor processor = new BasicDataProcessor();
        
        // Adicionar validação
        processor = new ValidationDecorator(processor);
        
        // Adicionar logging
        processor = new LoggingDecorator(processor, logger);
        
        // Adicionar compressão
        processor = new CompressionDecorator(processor);
        
        // Adicionar criptografia
        processor = new EncryptionDecorator(processor);

        return processor.Process(data);
    }

    public string ProcessRegularData(string data)
    {
        IDataProcessor processor = new BasicDataProcessor();
        
        // Apenas validação e logging para dados regulares
        processor = new ValidationDecorator(processor);
        processor = new LoggingDecorator(processor, logger);

        return processor.Process(data);
    }
}
</code></pre>

<h2 id="benefícios">Benefícios</h2>

<h3 id="1-flexibilidade-em-tempo-de-execução">1. <strong>Flexibilidade em tempo de execução</strong></h3>
<ul>
  <li>Permite adicionar/remover comportamentos dinamicamente</li>
  <li>Não requer modificação do código existente</li>
  <li>Configuração flexível de funcionalidades</li>
</ul>

<h3 id="2-princípio-da-responsabilidade-única">2. <strong>Princípio da Responsabilidade Única</strong></h3>
<ul>
  <li>Cada decorator tem uma responsabilidade específica</li>
  <li>Facilita manutenção e teste individual</li>
  <li>Promove código mais limpo e organizado</li>
</ul>

<h3 id="3-composição-sobre-herança">3. <strong>Composição sobre herança</strong></h3>
<ul>
  <li>Evita hierarquias complexas de classes</li>
  <li>Permite combinações ilimitadas de comportamentos</li>
  <li>Reduz acoplamento entre classes</li>
</ul>

<h3 id="4-extensibilidade">4. <strong>Extensibilidade</strong></h3>
<ul>
  <li>Novos decorators podem ser adicionados facilmente</li>
  <li>Não afeta decorators existentes</li>
  <li>Facilita evolução do sistema</li>
</ul>

<h3 id="5-reutilização">5. <strong>Reutilização</strong></h3>
<ul>
  <li>Decorators podem ser reutilizados em diferentes contextos</li>
  <li>Promove desenvolvimento modular</li>
  <li>Reduz duplicação de código</li>
</ul>

<h2 id="situações-de-uso">Situações de uso</h2>

<h3 id="quando-utilizar"><strong>Quando utilizar:</strong></h3>
<ul>
  <li>Adicionar responsabilidades a objetos de forma dinâmica</li>
  <li>Quando herança resultaria em muitas subclasses</li>
  <li>Implementar funcionalidades opcionais ou configuráveis</li>
  <li>Sistemas de middleware ou pipelines de processamento</li>
  <li>Logging, caching, validação, autenticação transversais</li>
</ul>

<h3 id="quando-evitar"><strong>Quando evitar:</strong></h3>
<ul>
  <li>Quando a interface do objeto muda frequentemente</li>
  <li>Para funcionalidades fundamentais do objeto</li>
  <li>Quando performance é crítica (overhead de chamadas)</li>
  <li>Em sistemas muito simples onde herança seria suficiente</li>
</ul>

    </div>
    <nav class="pagination">
        
        <a href="/interview_questions/151/" class="previous button button-ghost"
            aria-label="Previous question">&laquo; Question 151</a>
        
        <a href="/blog/pt-br/interview/questoes-para-entrevistas/" class="all-questions button button-ghost"
            aria-label="All questions">All Questions</a>
        
        <a href="/interview_questions/153/" class="next button button-ghost" aria-label="Next question">Question 153 &raquo;</a>
        
    </nav>
</article>
  </div>
</article>

  </div>
</main>

<footer class="site-footer">
  <div class="container">
    <ul class="social">
  <li><a href="mailto:matheus.costa.vieira@gmail.com" title="Personal mail" target="_blank"><i class="icon icon-mail"></i></a></li>
  <li><a href="https://github.com/matheus-vieira" title="Github Profile" target="_blank"><i class="icon icon-github"></i></a></li>
  <li><a href="https://twitter.com/macostavieira" title="Twitter Profile" target="_blank"><i class="icon icon-twitter"></i></a></li>
  <li><a href="https://facebook.com/macovieira" title="Facebook Profile" target="_blank"><i class="icon icon-facebook"></i></a></li>
  <li><a href="https://linkedin.com/in/macostavieira" title="LinkedIn Profile" target="_blank"><i class="icon icon-linkedin"></i></a></li>
  <li><a href="https://api.whatsapp.com/send?phone=5541988024599&text=E ae!" title="Send me an whatsapp" target="_blank"><i class="icon icon-whatsapp"></i></a></li>
  <li><a href="tel:5541988024599" title="Call me" target="_blank"><i class="icon icon-phone"></i></a></li>
  <li><a href="/tools/" title="Tools"><i class="icon icon-wrench"></i></a></li>
  <li><a href="/tools/questions/" title="Questions"><i class="icon icon-question"></i></a></li>
</ul>
    <p class="txt-medium-gray">
      <small>&copy;mvieira 2025 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small>
    </p>
  </div>
</footer>


  <a href="https://github.com/matheus-vieira/matheus-vieira.github.io" target="_blank" class="github-corner" title="mvieira github repository">
    <svg width="80" height="80" viewBox="0 0 250 250">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
            d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
            fill="currentColor" class="octo-arm"></path>
        <path
            d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
            fill="currentColor" class="octo-body"></path>
    </svg>
</a>
</body>
</html>
