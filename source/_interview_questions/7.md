--- layout: interview_question title: "Descreva how construir um pipeline of CI/CD using GitHub Actions to deploy in Azure" tags: [Azure, GitHub Actions, CI/CD, DevOps, Cloud, GitHub] order: 7 --- A automation of pipelines of CI/CD with GitHub Actions is uma prática moderna que acelera entregas, garante qualidade and reduz erros in projetos hospedados in the Azure. ### [GitHub Actions] — Conceito-chave: Pipeline of CI/CD to Azure GitHub Actions allows criar fluxos of trabalho automatizados (workflows) que integram, testam and fazem deploy of applications diretamente a partir of the repository GitHub to o Azure, using arquivos YAML versionados junto ao código. #### O que is um pipeline of CI/CD with GitHub Actions? Um pipeline of CI/CD integration( Contínua and Entrega Contínua) automatiza etapas how build, testes, validação and deploy of applications. With GitHub Actions, você define essas etapas in um arquivo `.github/workflows/main.yml` or( nome similar), especificando jobs, triggers and ações a serem executadas. #### Por que usar GitHub Actions to deploy in Azure? - integration** nativa**: GitHub Actions has ações oficiais to Azure, facilitando autenticação and deploy. - automation** ponta a ponta**: Desde o commit até o deploy, todo o fluxo is automatizado and auditável. - **Escalabilidade and flexibilidade**: Supports múltiplos ambientes, branches and estratégias of deploy (blue/green, canary, etc.). - security****: Allows uso of secrets and integration with Azure to autenticação segura. #### [GitHub Actions] — Pipeline of CI/CD to Azure - Exemplo prático Suponha que você queira automate o deploy of uma application Node.js to o Azure App Service. O pipeline can ser definido assim: {% raw %} ```yaml name: CI/CD to Azure App Service on: push: branches: [ main ] jobs: build-and-deploy: runs-on: ubuntu-latest steps: - name: Checkout of the código uses: actions/checkout@v4 - name: Setup Node.js uses: actions/setup-node@v4 with: node-version: '18' - name: Instalar dependências run: npm install - name: Rodar testes run: npm test - name: Build of the application run: npm run build - name: Login in the Azure uses: azure/login@v2 with: creds: ${{ secrets.AZURE_CREDENTIALS }} - name: Deploy to Azure App Service uses: azure/webapps-deploy@v3 with: app-name: 'meu-app-service' slot-name: 'production' package: '.' ``` {% endraw %} explanation** dos principais pontos:** - O workflow is disparado a cada push in the branch `main`. - O código is baixado, dependências instaladas, testes executados and a application is buildada. - O login in the Azure is feito using um secret seguro (`AZURE_CREDENTIALS`), geralmente criado via Azure Service Principal. - O deploy is realizado using a ação oficial of the Azure to App Service. Esse padrão can ser adaptado to outros tipos of applications and services Azure (Functions, Containers, Static Web Apps, etc.), promovendo entregas rápidas, seguras and auditáveis.