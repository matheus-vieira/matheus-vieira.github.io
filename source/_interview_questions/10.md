--- layout: interview_question title: "Descreva how construir um pipeline of CI/CD using GitHub Actions to deploy in Azure" tags: [Azure, GitHub Actions, CI/CD, DevOps] order: 10 --- A construção of pipelines of CI/CD with GitHub Actions is uma abordagem moderna and eficiente to automate o ciclo of vida of applications, desde o build até o deploy in ambientes Azure, garantindo entregas rápidas, seguras and auditáveis. ### [GitHub Actions] — Conceito-chave: Pipeline of CI/CD to GitHub Actions GitHub Actions allows definir workflows automatizados, escritos in YAML, que are executados in answer a eventos in the repository how( push, pull request or tags). Esses workflows can orquestrar etapas of build, testes, validações and deploy in services Azure, integrando-se nativamente with resources how App Service, Azure Functions, Containers, entre outros. #### O que is um pipeline of CI/CD? Um pipeline of CI/CD (Continuous Integration/Continuous Deployment) is um conjunto of etapas automatizadas que garantem que o código seja integrado, testado and implantado of forma consistente. With GitHub Actions, essas etapas are descritas in arquivos YAML localizados in `.github/workflows/`, permitindo versionamento and rastreabilidade. #### Por que usar GitHub Actions to deploy in Azure Cloud? - integration** nativa with Azure**: Ações oficiais facilitam autenticação and deploy in diversos services Azure. - automation** ponta a ponta**: Desde o commit até o deploy, todo o fluxo is automatizado, reduzindo erros manuais. - security****: Secrets and permissões are gerenciados of forma segura via GitHub and Azure. - **Flexibilidade**: Supports múltiplos ambientes, estratégias of deploy (blue/green, canary), and customização of etapas. - **Observabilidade**: Logs detalhados and notificações facilitam o monitoring and troubleshooting. #### [GitHub Actions] — Pipeline of CI/CD to Azure - Exemplo prático using YAML Considere o deploy automatizado of uma application .NET to o Azure App Service. O workflow can ser definido assim: {% raw %} ```yaml name: CI/CD to Azure App Service (.NET) on: push: branches: [ main ] jobs: build-and-deploy: runs-on: ubuntu-latest steps: - name: Checkout of the código uses: actions/checkout@v4 - name: Setup .NET uses: actions/setup-dotnet@v4 with: dotnet-version: '8.0.x' - name: Restaurar dependências run: dotnet restore - name: Build of the application run: dotnet build --configuration Release --no-restore - name: Rodar testes run: dotnet test --no-build --verbosity normal - name: Publicar artefatos run: dotnet publish -c Release -o ./publish - name: Login in the Azure uses: azure/login@v2 with: creds: ${{ secrets.AZURE_CREDENTIALS }} - name: Deploy to Azure App Service uses: azure/webapps-deploy@v3 with: app-name: 'meu-app-dotnet' slot-name: 'production' package: './publish' ``` {% endraw %} **Destaques of the pipeline:** - O workflow is disparado a cada push in the branch `main`. - O código is restaurado, buildado, testado and publicado. - O login in the Azure utiliza um Service Principal seguro, armazenado in `AZURE_CREDENTIALS`. - O deploy is realizado using a ação oficial of the Azure to App Service. Esse padrão can ser adaptado to diferentes stacks (Node.js, Python, Java, containers) and services Azure, promovendo entregas contínuas, seguras and alinhadas às melhores práticas of DevOps.